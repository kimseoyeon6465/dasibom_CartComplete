<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.booksajo.dasibom.service.dao.RefundRequestDAO">

	<!-- ðŸ” ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ -->
	<select id="selectOrderDetail" resultType="com.booksajo.dasibom.vo.OrderDetailVO">
		SELECT order_id, isbn, count, refund_count, price, order_status
		FROM user_order_detail_table
		WHERE order_id = #{orderId}
		AND isbn = #{isbn}
	</select>

	<!-- ðŸ” í™˜ë¶ˆ ì²˜ë¦¬: í™˜ë¶ˆ ìˆ˜ëŸ‰ ì¦ê°€ + ìƒíƒœ ë³€ê²½ -->
	<update id="updateRefund" parameterType="com.booksajo.dasibom.vo.RefundRequestVO">
		UPDATE user_order_detail_table
		SET 
			refund_count = refund_count + #{refundCount},
			order_status = #{orderStatus}
		WHERE 
			order_id = #{orderId}
			AND isbn = #{isbn}
	</update>



</mapper>
